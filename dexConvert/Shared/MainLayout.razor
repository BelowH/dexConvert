@using MudBlazor
@using MudBlazor.Utilities
@inherits LayoutComponentBase
@inject NavigationManager NavigationManager;

    <MudThemeProvider @bind-IsDarkMode="@_isDarkMode" Theme="@_customTheme"/>
    <MudDialogProvider/>
    <MudSnackbarProvider/>

<MudLayout>
    <MudAppBar>
        <MudLink OnClick="NavigateHome" Underline="Underline.None">
            <MudStack Row="true">
                <MudImage Src="logo_cut.png" Height="40" Width="40"></MudImage>
                <MudText Typo="Typo.h3" Color="Color.Secondary">DexConvert</MudText>
            </MudStack>
        </MudLink>
        <MudSpacer></MudSpacer>
        <LangSelector></LangSelector>
    </MudAppBar>
    <MudMainContent Class="my-5" Style="min-height: 100%; height: 100%">
        <MudContainer MaxWidth="MaxWidth.Large" Class="mb-16">
            @Body
        </MudContainer>
    </MudMainContent>
    <MudAppBar Bottom="true" Color="Color.Dark">
        <MudText>
            Results and Content powered by <MudLink Href="https://mangadex.org">MangaDex</MudLink> API
        </MudText>
        <MudSpacer></MudSpacer>
        <MudLink Href="https://github.com/BelowH">
            <MudIcon Icon="@Icons.Custom.Brands.GitHub"></MudIcon>
        </MudLink>
    </MudAppBar>
</MudLayout>

@code
{
    private bool _isDarkMode = true;

    readonly MudTheme _customTheme = new MudTheme()
    {
        Palette = new PaletteDark()
        {
            Primary = new MudColor("#AF69EF"),
            Secondary = new MudColor("#40A4FF")
        },
        PaletteDark = new PaletteDark()
        {
            Primary = new MudColor("#AF69EF"),
            Secondary = new MudColor("#40A4FF")
        },
    };

    void NavigateHome() => NavigationManager.NavigateTo("/");

}
